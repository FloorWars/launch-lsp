{
  "contractName": "StructuredNoteFinancialProductLibrary",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "priceIdentifier",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "requestTime",
          "type": "uint256"
        }
      ],
      "name": "transformPriceIdentifier",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "financialProduct",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "strikePrice",
          "type": "tuple"
        }
      ],
      "name": "setFinancialProductStrike",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "financialProduct",
          "type": "address"
        }
      ],
      "name": "getStrikeForFinancialProduct",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "oraclePrice",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "requestTime",
          "type": "uint256"
        }
      ],
      "name": "transformPrice",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "oraclePrice",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "collateralRequirement",
          "type": "tuple"
        }
      ],
      "name": "transformCollateralRequirement",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.6.12+commit.27d51765\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"financialProduct\",\"type\":\"address\"}],\"name\":\"getStrikeForFinancialProduct\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"financialProduct\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"strikePrice\",\"type\":\"tuple\"}],\"name\":\"setFinancialProductStrike\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"oraclePrice\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"collateralRequirement\",\"type\":\"tuple\"}],\"name\":\"transformCollateralRequirement\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"oraclePrice\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"requestTime\",\"type\":\"uint256\"}],\"name\":\"transformPrice\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"priceIdentifier\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"requestTime\",\"type\":\"uint256\"}],\"name\":\"transformPriceIdentifier\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"getStrikeForFinancialProduct(address)\":{\"params\":{\"financialProduct\":\"address of the financial product.\"},\"returns\":{\"_0\":\"strikePrice for the associated financial product.\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"setFinancialProductStrike(address,(uint256))\":{\"details\":\"Note: a) Only the owner (deployer) of this library can set new strike prices b) A strike price cannot be 0. c) A strike price can only be set once to prevent the deployer from changing the strike after the fact. d)  financialProduct must exposes an expirationTimestamp method.\",\"params\":{\"financialProduct\":\"address of the financial product.\",\"strikePrice\":\"the strike price for the structured note to be applied to the financial product.\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"transformCollateralRequirement((uint256),(uint256))\":{\"params\":{\"collateralRequirement\":\"financial products collateral requirement to be scaled according to price and strike.\",\"oraclePrice\":\"price from the oracle to transform the collateral requirement.\"},\"returns\":{\"_0\":\"transformedCollateralRequirement the input collateral requirement with the transformation logic applied to it.\"}},\"transformPrice((uint256),uint256)\":{\"params\":{\"oraclePrice\":\"price from the oracle to be transformed.\",\"requestTime\":\"timestamp the oraclePrice was requested at.\"},\"returns\":{\"_0\":\"transformedPrice the input oracle price with the price transformation logic applied to it.\"}},\"transformPriceIdentifier(bytes32,uint256)\":{\"params\":{\"priceIdentifier\":\"input price identifier defined for the financial contract.\",\"requestTime\":\"timestamp the identifier is to be used at. EG the time that a price request would be sent using this identifier.\"},\"returns\":{\"_0\":\"transformedPriceIdentifier input price identifier with the transformation function applied.\"}}},\"title\":\"Structured Note Financial Product Library\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getStrikeForFinancialProduct(address)\":{\"notice\":\"Returns the strike price associated with a given financial product address.\"},\"setFinancialProductStrike(address,(uint256))\":{\"notice\":\"Enables the deployer of the library to set the strike price for an associated financial product.\"},\"transformCollateralRequirement((uint256),(uint256))\":{\"notice\":\"Returns a transformed collateral requirement by applying the structured note payout structure. If the price of the structured note is greater than the strike then the collateral requirement scales down accordingly.\"},\"transformPrice((uint256),uint256)\":{\"notice\":\"Returns a transformed price by applying the structured note payout structure.\"},\"transformPriceIdentifier(bytes32,uint256)\":{\"notice\":\"Transforms a given price identifier using the financial product libraries transformation logic.\"}},\"notice\":\"Adds custom price transformation logic to modify the behavior of the expiring multi party contract.  The contract holds say 1 WETH in collateral and pays out that 1 WETH if, at expiry, ETHUSD is below a set strike. If ETHUSD is above that strike, the contract pays out a given dollar amount of ETH. Example: expiry is DEC 31. Strike is $400. Each token is backed by 1 WETH If ETHUSD < $400 at expiry, token is redeemed for 1 ETH. If ETHUSD >= $400 at expiry, token is redeemed for $400 worth of ETH, as determined by the DVM.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/StructuredNoteFinancialProductLibrary.sol\":\"StructuredNoteFinancialProductLibrary\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":199},\"remappings\":[]},\"sources\":{\"/home/circleci/protocol/packages/core/contracts/common/implementation/FixedPoint.sol\":{\"keccak256\":\"0xab45bbd5979790b9f84b2f741fc5476d7196f5fd924704d38798540fa1b2e2f3\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://24affc9dbe1fa7c73ed6e1f46f8e1f9f46b83954d43d0bb2ef15ed80fe7e1fc2\",\"dweb:/ipfs/Qmbddhukgu2FdV1VKpACsuterX2kcq2X9jJs6usPqXLSqE\"]},\"/home/circleci/protocol/packages/core/contracts/common/implementation/Lockable.sol\":{\"keccak256\":\"0xe766fe78267c8f589f9510a6e258b69287ed455c18d6b3f393d8e9d96f2d71cf\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://2e78bb200ecd01e863bfd57583941561f09993f902b83aa5d362387746578209\",\"dweb:/ipfs/QmNX2pLdH4p4HtJTKqSY4LwenRUPwJKa22ZSF2yc3cTMq4\"]},\"/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/FinancialProductLibrary.sol\":{\"keccak256\":\"0xc2eed8415699d6bb8866ce3ed3e8e4249d2a9640270a382b6f8d3e962c26c9b7\",\"urls\":[\"bzz-raw://3a71c9b2b4faf9de892c337abe84b1b4d3c7b82f8291a2015e16b0f016f07f62\",\"dweb:/ipfs/QmRxVHSZ3yRRad9xpBJ95qyE71EcZNh7y4WmGnUafpyZQj\"]},\"/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/StructuredNoteFinancialProductLibrary.sol\":{\"keccak256\":\"0x5519a423e00ed9ef73181b3ae466f8c9deb51496cf2576f46d1f00677623cea5\",\"urls\":[\"bzz-raw://73a9c7f4cca399ee25520dcd6b667fbfa07004fbc4d61eaefd62dc21850f8346\",\"dweb:/ipfs/QmR3h6QtgU7n7YZajuiXK6VpqTCTSfMLExDGdiX4ZPvMUE\"]},\"@openzeppelin/contracts/GSN/Context.sol\":{\"keccak256\":\"0x0de74dfa6b37943c1b834cbd8fb7a8d052e5ff80c7adb33692102dd6cd2985e9\",\"urls\":[\"bzz-raw://9d2d827fcf4a838f5821732c0acd6a40d21c2a5a2cfe2563feec91465f47bb60\",\"dweb:/ipfs/Qmex3wMKf5Sghbfvr288RUg1kP2uAyTMf11w83WbMbpQQc\"]},\"@openzeppelin/contracts/access/Ownable.sol\":{\"keccak256\":\"0x9a8c691b81a4a48adbbd5b010faa56a168c189e711495c16347d93b60b805f82\",\"urls\":[\"bzz-raw://d951d626ed7bfe1a2d7a6bd4af315ff8691929bd567594d6ab53599fe9e17e4e\",\"dweb:/ipfs/QmYkGeowpa6Bjr9aaDirWdDo7hSfShzzZhanKC4nTfRhLj\"]},\"@openzeppelin/contracts/math/SafeMath.sol\":{\"keccak256\":\"0x04d34b3cd5677bea25f8dfceb6dec0eaa071d4d4b789a43f13fe0c415ba4c296\",\"urls\":[\"bzz-raw://e7e8b526a6839e5ba14f0d23a830387fec47f7043ce01d42c9f285b709a9d080\",\"dweb:/ipfs/QmXmhhFmX5gcAvVzNiDPAGA35iHMPNaYtQkACswRHBVTNw\"]},\"@openzeppelin/contracts/math/SignedSafeMath.sol\":{\"keccak256\":\"0xfadc24a31d75d6b3f955190cffe13bbe6e24a274c12b2b60e8c4004131487ce8\",\"urls\":[\"bzz-raw://0ec35367d49b2ea45f556a439f836e208d2460faeb6e2341e9130d163128b619\",\"dweb:/ipfs/QmTwKCBdkVAarY5hteSdwQ1J4GpogZoxCZHrbieMQVzuQJ\"]}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50600061001b61007d565b600080546001600160a01b0319166001600160a01b0383169081178255604051929350917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3506000805460ff60a01b1916600160a01b179055610081565b3390565b610b46806100906000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80638da5cb5b1161005b5780638da5cb5b146100e6578063a94ec3b0146100fb578063f19371b71461010e578063f2fde38b1461012e57610088565b80630ff49b901461008d5780632a312637146100b65780633a0acab5146100c9578063715018a6146100dc575b600080fd5b6100a061009b3660046108ae565b610141565b6040516100ad9190610b06565b60405180910390f35b6100a06100c4366004610892565b61025b565b6100a06100d736600461080a565b6102e5565b6100e4610320565b005b6100ee61039f565b6040516100ad91906108f0565b6100e4610109366004610831565b6103ae565b61012161011c366004610871565b61051a565b6040516100ad9190610904565b6100e461013c36600461080a565b61051e565b6101496107ba565b6101516105d4565b6101596107ba565b503360009081526001602090815260408083208151928301909152548152906101839082906105ff565b6101a85760405162461bcd60e51b815260040161019f906109d4565b60405180910390fd5b336001600160a01b0316639f43ddd26040518163ffffffff1660e01b815260040160206040518083038186803b1580156101e157600080fd5b505afa1580156101f5573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021991906108d8565b8310156102325761022a6001610616565b915050610255565b61023c8482610644565b1561024b5761022a6001610616565b61022a818561064b565b92915050565b6102636107ba565b61026b6105d4565b6102736107ba565b5033600090815260016020908152604080832081519283019091525481529061029d9082906105ff565b6102b95760405162461bcd60e51b815260040161019f906109d4565b6102c38482610644565b156102d15782915050610255565b61022a6102de828661064b565b8490610689565b6102ed6107ba565b6102f56105d4565b506001600160a01b031660009081526001602090815260409182902082519182019092529054815290565b6103286106c6565b6000546001600160a01b039081169116146103555760405162461bcd60e51b815260040161019f90610a6f565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031690565b6103b66106c6565b6000546001600160a01b039081169116146103e35760405162461bcd60e51b815260040161019f90610a6f565b6103eb6105d4565b6103f36106ca565b6103fe8160006105ff565b61041a5760405162461bcd60e51b815260040161019f90610aa4565b6001600160a01b03821660009081526001602090815260408083208151928301909152548152610449916106d9565b6104655760405162461bcd60e51b815260040161019f90610a02565b816001600160a01b0316639f43ddd26040518163ffffffff1660e01b815260040160206040518083038186803b15801561049e57600080fd5b505afa1580156104b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d691906108d8565b6104f25760405162461bcd60e51b815260040161019f906109a6565b6001600160a01b0382166000908152600160205260409020815190556105166106f0565b5050565b5090565b6105266106c6565b6000546001600160a01b039081169116146105535760405162461bcd60e51b815260040161019f90610a6f565b6001600160a01b0381166105795760405162461bcd60e51b815260040161019f90610960565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b600054600160a01b900460ff166105fd5760405162461bcd60e51b815260040161019f90610acf565b565b600061060a82610616565b51835111905092915050565b61061e6107ba565b60408051602081019091528061063c84670de0b6b3a7640000610705565b905292915050565b5190511090565b6106536107ba565b60408051602081019091528251845182916106809161067a90670de0b6b3a7640000610705565b90610746565b90529392505050565b6106916107ba565b6040805160208101909152825184518291670de0b6b3a7640000916106b591610705565b816106bc57fe5b0490529392505050565b3390565b6000805460ff60a01b19169055565b60006106e482610616565b51835114905092915050565b6000805460ff60a01b1916600160a01b179055565b60008261071457506000610255565b8282028284828161072157fe5b041461073f5760405162461bcd60e51b815260040161019f90610a2e565b9392505050565b600061073f83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250600081836107a45760405162461bcd60e51b815260040161019f919061090d565b5060008385816107b057fe5b0495945050505050565b6040518060200160405280600081525090565b6000602082840312156107de578081fd5b6040516020810181811067ffffffffffffffff821117156107fd578283fd5b6040529135825250919050565b60006020828403121561081b578081fd5b81356001600160a01b038116811461073f578182fd5b60008060408385031215610843578081fd5b82356001600160a01b0381168114610859578182fd5b915061086884602085016107cd565b90509250929050565b60008060408385031215610883578182fd5b50508035926020909101359150565b600080604083850312156108a4578182fd5b61085984846107cd565b600080604083850312156108c0578182fd5b6108ca84846107cd565b946020939093013593505050565b6000602082840312156108e9578081fd5b5051919050565b6001600160a01b0391909116815260200190565b90815260200190565b6000602080835283518082850152825b818110156109395785810183015185820160400152820161091d565b8181111561094a5783604083870101525b50601f01601f1916929092016040019392505050565b60208082526026908201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160408201526564647265737360d01b606082015260800190565b602080825260149082015273125b9d985b1a59081153540818dbdb9d1c9858dd60621b604082015260600190565b60208082526014908201527343616c6c657220686173206e6f20737472696b6560601b604082015260600190565b60208082526012908201527114dd1c9a5ad948185b1c9958591e481cd95d60721b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b60208082526011908201527043616e7420736574203020737472696b6560781b604082015260600190565b6020808252601f908201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604082015260600190565b905181526020019056fea2646970667358221220577712c1f35151314e75689137e931219ef1f4d21f9dd39bba03501cad8fe66a64736f6c634300060c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c80638da5cb5b1161005b5780638da5cb5b146100e6578063a94ec3b0146100fb578063f19371b71461010e578063f2fde38b1461012e57610088565b80630ff49b901461008d5780632a312637146100b65780633a0acab5146100c9578063715018a6146100dc575b600080fd5b6100a061009b3660046108ae565b610141565b6040516100ad9190610b06565b60405180910390f35b6100a06100c4366004610892565b61025b565b6100a06100d736600461080a565b6102e5565b6100e4610320565b005b6100ee61039f565b6040516100ad91906108f0565b6100e4610109366004610831565b6103ae565b61012161011c366004610871565b61051a565b6040516100ad9190610904565b6100e461013c36600461080a565b61051e565b6101496107ba565b6101516105d4565b6101596107ba565b503360009081526001602090815260408083208151928301909152548152906101839082906105ff565b6101a85760405162461bcd60e51b815260040161019f906109d4565b60405180910390fd5b336001600160a01b0316639f43ddd26040518163ffffffff1660e01b815260040160206040518083038186803b1580156101e157600080fd5b505afa1580156101f5573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021991906108d8565b8310156102325761022a6001610616565b915050610255565b61023c8482610644565b1561024b5761022a6001610616565b61022a818561064b565b92915050565b6102636107ba565b61026b6105d4565b6102736107ba565b5033600090815260016020908152604080832081519283019091525481529061029d9082906105ff565b6102b95760405162461bcd60e51b815260040161019f906109d4565b6102c38482610644565b156102d15782915050610255565b61022a6102de828661064b565b8490610689565b6102ed6107ba565b6102f56105d4565b506001600160a01b031660009081526001602090815260409182902082519182019092529054815290565b6103286106c6565b6000546001600160a01b039081169116146103555760405162461bcd60e51b815260040161019f90610a6f565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031690565b6103b66106c6565b6000546001600160a01b039081169116146103e35760405162461bcd60e51b815260040161019f90610a6f565b6103eb6105d4565b6103f36106ca565b6103fe8160006105ff565b61041a5760405162461bcd60e51b815260040161019f90610aa4565b6001600160a01b03821660009081526001602090815260408083208151928301909152548152610449916106d9565b6104655760405162461bcd60e51b815260040161019f90610a02565b816001600160a01b0316639f43ddd26040518163ffffffff1660e01b815260040160206040518083038186803b15801561049e57600080fd5b505afa1580156104b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d691906108d8565b6104f25760405162461bcd60e51b815260040161019f906109a6565b6001600160a01b0382166000908152600160205260409020815190556105166106f0565b5050565b5090565b6105266106c6565b6000546001600160a01b039081169116146105535760405162461bcd60e51b815260040161019f90610a6f565b6001600160a01b0381166105795760405162461bcd60e51b815260040161019f90610960565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b600054600160a01b900460ff166105fd5760405162461bcd60e51b815260040161019f90610acf565b565b600061060a82610616565b51835111905092915050565b61061e6107ba565b60408051602081019091528061063c84670de0b6b3a7640000610705565b905292915050565b5190511090565b6106536107ba565b60408051602081019091528251845182916106809161067a90670de0b6b3a7640000610705565b90610746565b90529392505050565b6106916107ba565b6040805160208101909152825184518291670de0b6b3a7640000916106b591610705565b816106bc57fe5b0490529392505050565b3390565b6000805460ff60a01b19169055565b60006106e482610616565b51835114905092915050565b6000805460ff60a01b1916600160a01b179055565b60008261071457506000610255565b8282028284828161072157fe5b041461073f5760405162461bcd60e51b815260040161019f90610a2e565b9392505050565b600061073f83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250600081836107a45760405162461bcd60e51b815260040161019f919061090d565b5060008385816107b057fe5b0495945050505050565b6040518060200160405280600081525090565b6000602082840312156107de578081fd5b6040516020810181811067ffffffffffffffff821117156107fd578283fd5b6040529135825250919050565b60006020828403121561081b578081fd5b81356001600160a01b038116811461073f578182fd5b60008060408385031215610843578081fd5b82356001600160a01b0381168114610859578182fd5b915061086884602085016107cd565b90509250929050565b60008060408385031215610883578182fd5b50508035926020909101359150565b600080604083850312156108a4578182fd5b61085984846107cd565b600080604083850312156108c0578182fd5b6108ca84846107cd565b946020939093013593505050565b6000602082840312156108e9578081fd5b5051919050565b6001600160a01b0391909116815260200190565b90815260200190565b6000602080835283518082850152825b818110156109395785810183015185820160400152820161091d565b8181111561094a5783604083870101525b50601f01601f1916929092016040019392505050565b60208082526026908201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160408201526564647265737360d01b606082015260800190565b602080825260149082015273125b9d985b1a59081153540818dbdb9d1c9858dd60621b604082015260600190565b60208082526014908201527343616c6c657220686173206e6f20737472696b6560601b604082015260600190565b60208082526012908201527114dd1c9a5ad948185b1c9958591e481cd95d60721b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b60208082526011908201527043616e7420736574203020737472696b6560781b604082015260600190565b6020808252601f908201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604082015260600190565b905181526020019056fea2646970667358221220577712c1f35151314e75689137e931219ef1f4d21f9dd39bba03501cad8fe66a64736f6c634300060c0033",
  "immutableReferences": {},
  "sourceMap": "818:4981:40:-:0;;;;;;;;;;;;-1:-1:-1;832:17:97;852:12;:10;:12::i;:::-;874:6;:18;;-1:-1:-1;;;;;;874:18:97;-1:-1:-1;;;;;874:18:97;;;;;;;907:43;;874:18;;-1:-1:-1;874:18:97;907:43;;874:6;;907:43;-1:-1:-1;905:11:5;:18;;-1:-1:-1;;;;905:18:5;-1:-1:-1;;;905:18:5;;;818:4981:40;;735:104:96;822:10;735:104;:::o;818:4981:40:-;;;;;;;",
  "deployedSourceMap": "818:4981:40:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2931:1022;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;4549:1248;;;;;;:::i;:::-;;:::i;2340:233::-;;;;;;:::i;:::-;;:::i;1656:145:97:-;;;:::i;:::-;;1033:77;;;:::i;:::-;;;;;;;:::i;1590:507:40:-;;;;;;:::i;:::-;;:::i;2275:193:38:-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;1950:240:97:-;;;;;;:::i;:::-;;:::i;2931:1022:40:-;3105:26;;:::i;:::-;1625:19:5;:17;:19::i;:::-;3147:33:40::1;;:::i;:::-;-1:-1:-1::0;3207:10:40::1;3183:35;::::0;;;:23:::1;:35;::::0;;;;;;;3147:71;;;;::::1;::::0;;;;;;;3236:23:::1;::::0;3147:71;;3236:20:::1;:23::i;:::-;3228:56;;;;-1:-1:-1::0;;;3228:56:40::1;;;;;;;:::i;:::-;;;;;;;;;3511:10;-1:-1:-1::0;;;;;3485:57:40::1;;:59;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3471:11;:73;3467:141;;;3567:30;3595:1;3567:27;:30::i;:::-;3560:37;;;;;3467:141;3621:30;:11:::0;3644:6;3621:22:::1;:30::i;:::-;3617:330;;;3674:30;3702:1;3674:27;:30::i;3617:330::-;3913:23;:6:::0;3924:11;3913:10:::1;:23::i;1654:1:5:-;2931:1022:40::0;;;;:::o;4549:1248::-;4750:26;;:::i;:::-;1625:19:5;:17;:19::i;:::-;4788:33:40::1;;:::i;:::-;-1:-1:-1::0;4848:10:40::1;4824:35;::::0;;;:23:::1;:35;::::0;;;;;;;4788:71;;;;::::1;::::0;;;;;;;4877:23:::1;::::0;4788:71;;4877:20:::1;:23::i;:::-;4869:56;;;;-1:-1:-1::0;;;4869:56:40::1;;;;;;;:::i;:::-;5037:30;:11:::0;5060:6;5037:22:::1;:30::i;:::-;5033:758;;;5090:21;5083:28;;;;;5033:758;5730:50;5756:23;:6:::0;5767:11;5756:10:::1;:23::i;:::-;5730:21:::0;;:25:::1;:50::i;2340:233::-:0;2476:26;;:::i;:::-;1625:19:5;:17;:19::i;:::-;-1:-1:-1;;;;;;2525:41:40::1;;::::0;;;:23:::1;:41;::::0;;;;;;;;2518:48;;;;::::1;::::0;;;;;;;;2340:233::o;1656:145:97:-;1247:12;:10;:12::i;:::-;1237:6;;-1:-1:-1;;;;;1237:6:97;;;:22;;;1229:67;;;;-1:-1:-1;;;1229:67:97;;;;;;;:::i;:::-;1762:1:::1;1746:6:::0;;1725:40:::1;::::0;-1:-1:-1;;;;;1746:6:97;;::::1;::::0;1725:40:::1;::::0;1762:1;;1725:40:::1;1792:1;1775:19:::0;;-1:-1:-1;;;;;;1775:19:97::1;::::0;;1656:145::o;1033:77::-;1071:7;1097:6;-1:-1:-1;;;;;1097:6:97;1033:77;:::o;1590:507:40:-;1247:12:97;:10;:12::i;:::-;1237:6;;-1:-1:-1;;;;;1237:6:97;;;:22;;;1229:67;;;;-1:-1:-1;;;1229:67:97;;;;;;;:::i;:::-;1339:19:5::1;:17;:19::i;:::-;1368:17;:15;:17::i;:::-;1769:28:40::2;:11:::0;1795:1:::2;1769:25;:28::i;:::-;1761:58;;;;-1:-1:-1::0;;;1761:58:40::2;;;;;;;:::i;:::-;-1:-1:-1::0;;;;;1837:41:40;::::2;1887:1;1837:41:::0;;;:23:::2;:41;::::0;;;;;;;:49;;;;::::2;::::0;;;;;;:52:::2;::::0;:49:::2;:52::i;:::-;1829:83;;;;-1:-1:-1::0;;;1829:83:40::2;;;;;;;:::i;:::-;1956:16;-1:-1:-1::0;;;;;1930:63:40::2;;:65;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1922:103;;;;-1:-1:-1::0;;;1922:103:40::2;;;;;;;:::i;:::-;-1:-1:-1::0;;;;;2035:41:40;::::2;;::::0;;;:23:::2;:41;::::0;;;;:55;;;;1406:20:5::1;:18;:20::i;:::-;1590:507:40::0;;:::o;2275:193:38:-;-1:-1:-1;2446:15:38;2275:193::o;1950:240:97:-;1247:12;:10;:12::i;:::-;1237:6;;-1:-1:-1;;;;;1237:6:97;;;:22;;;1229:67;;;;-1:-1:-1;;;1229:67:97;;;;;;;:::i;:::-;-1:-1:-1;;;;;2038:22:97;::::1;2030:73;;;;-1:-1:-1::0;;;2030:73:97::1;;;;;;;:::i;:::-;2139:6;::::0;;2118:38:::1;::::0;-1:-1:-1;;;;;2118:38:97;;::::1;::::0;2139:6;::::1;::::0;2118:38:::1;::::0;::::1;2166:6;:17:::0;;-1:-1:-1;;;;;;2166:17:97::1;-1:-1:-1::0;;;;;2166:17:97;;;::::1;::::0;;;::::1;::::0;;1950:240::o;2158:186:5:-;2290:11;;-1:-1:-1;;;2290:11:5;;;;2282:55;;;;-1:-1:-1;;;2282:55:5;;;;;;;:::i;:::-;2158:186::o;2248:147:4:-;2324:4;2360:19;2377:1;2360:16;:19::i;:::-;:28;2347:10;;:41;;-1:-1:-1;2248:147:4;;;;:::o;1032:135::-;1092:15;;:::i;:::-;1126:34;;;;;;;;;;1135:24;:1;607:6;1135:5;:24::i;:::-;1126:34;;1119:41;1032:135;-1:-1:-1;;1032:135:4:o;3884:134::-;4001:10;3988;;:23;;3884:134::o;10602:634::-;10676:15;;:::i;:::-;11170:59;;;;;;;;;11217:10;;11179;;11170:59;;11179:49;;:33;;607:6;11179:14;:33::i;:::-;:37;;:49::i;:::-;11170:59;;11163:66;10602:634;-1:-1:-1;;;10602:634:4:o;8186:650::-;8260:15;;:::i;:::-;8773:56;;;;;;;;;8797:10;;8782;;8773:56;;607:6;;8782:26;;:14;:26::i;:::-;:46;;;;;;8773:56;;8766:63;8186:650;-1:-1:-1;;;8186:650:4:o;735:104:96:-;822:10;735:104;:::o;2350:136:5:-;2474:5;2460:19;;-1:-1:-1;;;;2460:19:5;;;2350:136::o;1330:142:4:-;1400:4;1437:19;1454:1;1437:16;:19::i;:::-;:28;1423:10;;:42;;-1:-1:-1;1330:142:4;;;;:::o;2492:206:5:-;2673:11;:18;;-1:-1:-1;;;;2673:18:5;-1:-1:-1;;;2673:18:5;;;2492:206::o;2119:459:100:-;2177:7;2418:6;2414:45;;-1:-1:-1;2447:1:100;2440:8;;2414:45;2481:5;;;2485:1;2481;:5;:1;2504:5;;;;;:10;2496:56;;;;-1:-1:-1;;;2496:56:100;;;;;;;:::i;:::-;2570:1;2119:459;-1:-1:-1;;;2119:459:100:o;3033:130::-;3091:7;3117:39;3121:1;3124;3117:39;;;;;;;;;;;;;;;;;3724:7;3824:12;3817:5;3809:28;;;;-1:-1:-1;;;3809:28:100;;;;;;;;:::i;:::-;;3847:9;3863:1;3859;:5;;;;;;;3638:338;-1:-1:-1;;;;;3638:338:100:o;-1:-1:-1:-;;;;;;;;;;;;;;:::o;312:327::-;;426:4;414:9;409:3;405:19;401:30;398:2;;;-1:-1;;434:12;398:2;11539;11533:9;426:4;11569:6;11565:17;11676:6;11664:10;11661:22;11640:18;11628:10;11625:34;11622:62;11619:2;;;-1:-1;;11687:12;11619:2;11539;11706:22;713:20;;543:75;;-1:-1;453:29;392:247;-1:-1;392:247::o;924:241::-;;1028:2;1016:9;1007:7;1003:23;999:32;996:2;;;-1:-1;;1034:12;996:2;72:20;;-1:-1;;;;;12280:54;;12866:35;;12856:2;;-1:-1;;12905:12;1172:416;;;1318:2;1306:9;1297:7;1293:23;1289:32;1286:2;;;-1:-1;;1324:12;1286:2;72:20;;-1:-1;;;;;12280:54;;12866:35;;12856:2;;-1:-1;;12905:12;12856:2;1376:63;-1:-1;1494:78;1564:7;1476:2;1540:22;;1494:78;:::i;:::-;1484:88;;1280:308;;;;;:::o;1595:366::-;;;1716:2;1704:9;1695:7;1691:23;1687:32;1684:2;;;-1:-1;;1722:12;1684:2;-1:-1;;209:20;;;1874:2;1913:22;;;713:20;;-1:-1;1678:283::o;1968:466::-;;;2139:2;2127:9;2118:7;2114:23;2110:32;2107:2;;;-1:-1;;2145:12;2107:2;2207:78;2277:7;2253:22;2207:78;:::i;2441:416::-;;;2587:2;2575:9;2566:7;2562:23;2558:32;2555:2;;;-1:-1;;2593:12;2555:2;2655:78;2725:7;2701:22;2655:78;:::i;:::-;2645:88;2770:2;2809:22;;;;713:20;;-1:-1;;;2549:308::o;2864:263::-;;2979:2;2967:9;2958:7;2954:23;2950:32;2947:2;;;-1:-1;;2985:12;2947:2;-1:-1;861:13;;2941:186;-1:-1;2941:186::o;6989:222::-;-1:-1;;;;;12280:54;;;;3205:37;;7116:2;7101:18;;7087:124::o;7218:222::-;3325:37;;;7345:2;7330:18;;7316:124::o;7447:310::-;;7594:2;;7615:17;7608:47;3519:5;11828:12;11985:6;7594:2;7583:9;7579:18;11973:19;-1:-1;12498:101;12512:6;12509:1;12506:13;12498:101;;;12579:11;;;;;12573:18;12560:11;;;12013:14;12560:11;12553:39;12527:10;;12498:101;;;12614:6;12611:1;12608:13;12605:2;;;-1:-1;12013:14;12670:6;7583:9;12661:16;;12654:27;12605:2;-1:-1;12786:7;12770:14;-1:-1;;12766:28;3677:39;;;;12013:14;3677:39;;7565:192;-1:-1;;;7565:192::o;7764:416::-;7964:2;7978:47;;;3953:2;7949:18;;;11973:19;3989:34;12013:14;;;3969:55;-1:-1;;;4044:12;;;4037:30;4086:12;;;7935:245::o;8187:416::-;8387:2;8401:47;;;4337:2;8372:18;;;11973:19;-1:-1;;;12013:14;;;4353:43;4415:12;;;8358:245::o;8610:416::-;8810:2;8824:47;;;4666:2;8795:18;;;11973:19;-1:-1;;;12013:14;;;4682:43;4744:12;;;8781:245::o;9033:416::-;9233:2;9247:47;;;4995:2;9218:18;;;11973:19;-1:-1;;;12013:14;;;5011:41;5071:12;;;9204:245::o;9456:416::-;9656:2;9670:47;;;5322:2;9641:18;;;11973:19;5358:34;12013:14;;;5338:55;-1:-1;;;5413:12;;;5406:25;5450:12;;;9627:245::o;9879:416::-;10079:2;10093:47;;;10064:18;;;11973:19;5737:34;12013:14;;;5717:55;5791:12;;;10050:245::o;10302:416::-;10502:2;10516:47;;;6042:2;10487:18;;;11973:19;-1:-1;;;12013:14;;;6058:40;6117:12;;;10473:245::o;10725:416::-;10925:2;10939:47;;;6368:2;10910:18;;;11973:19;6404:33;12013:14;;;6384:54;6457:12;;;10896:245::o;11148:322::-;6759:23;;3325:37;;11325:2;11310:18;;11296:174::o",
  "source": "pragma solidity ^0.6.0;\npragma experimental ABIEncoderV2;\nimport \"./FinancialProductLibrary.sol\";\nimport \"@openzeppelin/contracts/access/Ownable.sol\";\nimport \"../../../common/implementation/Lockable.sol\";\n\n/**\n * @title Structured Note Financial Product Library\n * @notice Adds custom price transformation logic to modify the behavior of the expiring multi party contract.  The\n * contract holds say 1 WETH in collateral and pays out that 1 WETH if, at expiry, ETHUSD is below a set strike. If\n * ETHUSD is above that strike, the contract pays out a given dollar amount of ETH.\n * Example: expiry is DEC 31. Strike is $400. Each token is backed by 1 WETH\n * If ETHUSD < $400 at expiry, token is redeemed for 1 ETH.\n * If ETHUSD >= $400 at expiry, token is redeemed for $400 worth of ETH, as determined by the DVM.\n */\ncontract StructuredNoteFinancialProductLibrary is FinancialProductLibrary, Ownable, Lockable {\n    mapping(address => FixedPoint.Unsigned) financialProductStrikes;\n\n    /**\n     * @notice Enables the deployer of the library to set the strike price for an associated financial product.\n     * @param financialProduct address of the financial product.\n     * @param strikePrice the strike price for the structured note to be applied to the financial product.\n     * @dev Note: a) Only the owner (deployer) of this library can set new strike prices b) A strike price cannot be 0.\n     * c) A strike price can only be set once to prevent the deployer from changing the strike after the fact.\n     * d)  financialProduct must exposes an expirationTimestamp method.\n     */\n    function setFinancialProductStrike(address financialProduct, FixedPoint.Unsigned memory strikePrice)\n        public\n        onlyOwner\n        nonReentrant()\n    {\n        require(strikePrice.isGreaterThan(0), \"Cant set 0 strike\");\n        require(financialProductStrikes[financialProduct].isEqual(0), \"Strike already set\");\n        require(ExpiringContractInterface(financialProduct).expirationTimestamp() != 0, \"Invalid EMP contract\");\n        financialProductStrikes[financialProduct] = strikePrice;\n    }\n\n    /**\n     * @notice Returns the strike price associated with a given financial product address.\n     * @param financialProduct address of the financial product.\n     * @return strikePrice for the associated financial product.\n     */\n    function getStrikeForFinancialProduct(address financialProduct)\n        public\n        view\n        nonReentrantView()\n        returns (FixedPoint.Unsigned memory)\n    {\n        return financialProductStrikes[financialProduct];\n    }\n\n    /**\n     * @notice Returns a transformed price by applying the structured note payout structure.\n     * @param oraclePrice price from the oracle to be transformed.\n     * @param requestTime timestamp the oraclePrice was requested at.\n     * @return transformedPrice the input oracle price with the price transformation logic applied to it.\n     */\n    function transformPrice(FixedPoint.Unsigned memory oraclePrice, uint256 requestTime)\n        public\n        view\n        override\n        nonReentrantView()\n        returns (FixedPoint.Unsigned memory)\n    {\n        FixedPoint.Unsigned memory strike = financialProductStrikes[msg.sender];\n        require(strike.isGreaterThan(0), \"Caller has no strike\");\n        // If price request is made before expiry, return 1. Thus we can keep the contract 100% collateralized with\n        // each token backed 1:1 by collateral currency.\n        if (requestTime < ExpiringContractInterface(msg.sender).expirationTimestamp()) {\n            return FixedPoint.fromUnscaledUint(1);\n        }\n        if (oraclePrice.isLessThan(strike)) {\n            return FixedPoint.fromUnscaledUint(1);\n        } else {\n            // Token expires to be worth strike $ worth of collateral.\n            // eg if ETHUSD is $500 and strike is $400, token is redeemable for 400/500 = 0.8 WETH.\n            return strike.div(oraclePrice);\n        }\n    }\n\n    /**\n     * @notice Returns a transformed collateral requirement by applying the structured note payout structure. If the price\n     * of the structured note is greater than the strike then the collateral requirement scales down accordingly.\n     * @param oraclePrice price from the oracle to transform the collateral requirement.\n     * @param collateralRequirement financial products collateral requirement to be scaled according to price and strike.\n     * @return transformedCollateralRequirement the input collateral requirement with the transformation logic applied to it.\n     */\n    function transformCollateralRequirement(\n        FixedPoint.Unsigned memory oraclePrice,\n        FixedPoint.Unsigned memory collateralRequirement\n    ) public view override nonReentrantView() returns (FixedPoint.Unsigned memory) {\n        FixedPoint.Unsigned memory strike = financialProductStrikes[msg.sender];\n        require(strike.isGreaterThan(0), \"Caller has no strike\");\n        // If the price is less than the strike than the original collateral requirement is used.\n        if (oraclePrice.isLessThan(strike)) {\n            return collateralRequirement;\n        } else {\n            // If the price is more than the strike then the collateral requirement is scaled by the strike. For example\n            // a strike of $400 and a CR of 1.2 would yield:\n            // ETHUSD = $350, payout is 1 WETH. CR is multiplied by 1. resulting CR = 1.2\n            // ETHUSD = $400, payout is 1 WETH. CR is multiplied by 1. resulting CR = 1.2\n            // ETHUSD = $425, payout is 0.941 WETH (worth $400). CR is multiplied by 0.941. resulting CR = 1.1292\n            // ETHUSD = $500, payout is 0.8 WETH (worth $400). CR multiplied by 0.8. resulting CR = 0.96\n            return collateralRequirement.mul(strike.div(oraclePrice));\n        }\n    }\n}\n",
  "sourcePath": "/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/StructuredNoteFinancialProductLibrary.sol",
  "ast": {
    "absolutePath": "/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/StructuredNoteFinancialProductLibrary.sol",
    "exportedSymbols": {
      "StructuredNoteFinancialProductLibrary": [
        7951
      ]
    },
    "id": 7952,
    "license": null,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 7761,
        "literals": [
          "solidity",
          "^",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:23:40"
      },
      {
        "id": 7762,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "24:33:40"
      },
      {
        "absolutePath": "/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/FinancialProductLibrary.sol",
        "file": "./FinancialProductLibrary.sol",
        "id": 7763,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 7639,
        "src": "58:39:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/access/Ownable.sol",
        "file": "@openzeppelin/contracts/access/Ownable.sol",
        "id": 7764,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 25862,
        "src": "98:52:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/home/circleci/protocol/packages/core/contracts/common/implementation/Lockable.sol",
        "file": "../../../common/implementation/Lockable.sol",
        "id": 7765,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 2435,
        "src": "151:53:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7767,
              "name": "FinancialProductLibrary",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 7638,
              "src": "868:23:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_FinancialProductLibrary_$7638",
                "typeString": "contract FinancialProductLibrary"
              }
            },
            "id": 7768,
            "nodeType": "InheritanceSpecifier",
            "src": "868:23:40"
          },
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7769,
              "name": "Ownable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 25861,
              "src": "893:7:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Ownable_$25861",
                "typeString": "contract Ownable"
              }
            },
            "id": 7770,
            "nodeType": "InheritanceSpecifier",
            "src": "893:7:40"
          },
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7771,
              "name": "Lockable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 2434,
              "src": "902:8:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Lockable_$2434",
                "typeString": "contract Lockable"
              }
            },
            "id": 7772,
            "nodeType": "InheritanceSpecifier",
            "src": "902:8:40"
          }
        ],
        "contractDependencies": [
          2434,
          7638,
          25752,
          25861
        ],
        "contractKind": "contract",
        "documentation": {
          "id": 7766,
          "nodeType": "StructuredDocumentation",
          "src": "206:611:40",
          "text": " @title Structured Note Financial Product Library\n @notice Adds custom price transformation logic to modify the behavior of the expiring multi party contract.  The\n contract holds say 1 WETH in collateral and pays out that 1 WETH if, at expiry, ETHUSD is below a set strike. If\n ETHUSD is above that strike, the contract pays out a given dollar amount of ETH.\n Example: expiry is DEC 31. Strike is $400. Each token is backed by 1 WETH\n If ETHUSD < $400 at expiry, token is redeemed for 1 ETH.\n If ETHUSD >= $400 at expiry, token is redeemed for $400 worth of ETH, as determined by the DVM."
        },
        "fullyImplemented": true,
        "id": 7951,
        "linearizedBaseContracts": [
          7951,
          2434,
          25861,
          25752,
          7638
        ],
        "name": "StructuredNoteFinancialProductLibrary",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "constant": false,
            "id": 7776,
            "mutability": "mutable",
            "name": "financialProductStrikes",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 7951,
            "src": "917:63:40",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
              "typeString": "mapping(address => struct FixedPoint.Unsigned)"
            },
            "typeName": {
              "id": 7775,
              "keyType": {
                "id": 7773,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "925:7:40",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "917:39:40",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                "typeString": "mapping(address => struct FixedPoint.Unsigned)"
              },
              "valueType": {
                "contractScope": null,
                "id": 7774,
                "name": "FixedPoint.Unsigned",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 887,
                "src": "936:19:40",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                  "typeString": "struct FixedPoint.Unsigned"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 7823,
              "nodeType": "Block",
              "src": "1751:346:40",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7791,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1795:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7789,
                            "name": "strikePrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7781,
                            "src": "1769:11:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7790,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "1769:25:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7792,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1769:28:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616e7420736574203020737472696b65",
                        "id": 7793,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1799:19:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_c7f986862cc2d26c1a35b5c7871a1e618efb593efd688b980398e67794ec34ad",
                          "typeString": "literal_string \"Cant set 0 strike\""
                        },
                        "value": "Cant set 0 strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_c7f986862cc2d26c1a35b5c7871a1e618efb593efd688b980398e67794ec34ad",
                          "typeString": "literal_string \"Cant set 0 strike\""
                        }
                      ],
                      "id": 7788,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1761:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7794,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1761:58:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7795,
                  "nodeType": "ExpressionStatement",
                  "src": "1761:58:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7801,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1887:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 7797,
                              "name": "financialProductStrikes",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7776,
                              "src": "1837:23:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                                "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                              }
                            },
                            "id": 7799,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 7798,
                              "name": "financialProduct",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7779,
                              "src": "1861:16:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "1837:41:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                              "typeString": "struct FixedPoint.Unsigned storage ref"
                            }
                          },
                          "id": 7800,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isEqual",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 922,
                          "src": "1837:49:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7802,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1837:52:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "537472696b6520616c726561647920736574",
                        "id": 7803,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1891:20:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_90a200c9dd7f19b0a6761d7013cfb0bf7b6b9a5a8eb923efec7fe160652c0550",
                          "typeString": "literal_string \"Strike already set\""
                        },
                        "value": "Strike already set"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_90a200c9dd7f19b0a6761d7013cfb0bf7b6b9a5a8eb923efec7fe160652c0550",
                          "typeString": "literal_string \"Strike already set\""
                        }
                      ],
                      "id": 7796,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1829:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7804,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1829:83:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7805,
                  "nodeType": "ExpressionStatement",
                  "src": "1829:83:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 7813,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "arguments": [],
                          "expression": {
                            "argumentTypes": [],
                            "expression": {
                              "argumentTypes": null,
                              "arguments": [
                                {
                                  "argumentTypes": null,
                                  "id": 7808,
                                  "name": "financialProduct",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7779,
                                  "src": "1956:16:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                ],
                                "id": 7807,
                                "name": "ExpiringContractInterface",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 7594,
                                "src": "1930:25:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_contract$_ExpiringContractInterface_$7594_$",
                                  "typeString": "type(contract ExpiringContractInterface)"
                                }
                              },
                              "id": 7809,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "1930:43:40",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_ExpiringContractInterface_$7594",
                                "typeString": "contract ExpiringContractInterface"
                              }
                            },
                            "id": 7810,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "expirationTimestamp",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 7593,
                            "src": "1930:63:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_view$__$returns$_t_uint256_$",
                              "typeString": "function () view external returns (uint256)"
                            }
                          },
                          "id": 7811,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1930:65:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 7812,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "1999:1:40",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        },
                        "src": "1930:70:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "496e76616c696420454d5020636f6e7472616374",
                        "id": 7814,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2002:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_414057ca04fb0eac83f93a4edb2bbafd68669ee9198c65b64b7b3051f2873eed",
                          "typeString": "literal_string \"Invalid EMP contract\""
                        },
                        "value": "Invalid EMP contract"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_414057ca04fb0eac83f93a4edb2bbafd68669ee9198c65b64b7b3051f2873eed",
                          "typeString": "literal_string \"Invalid EMP contract\""
                        }
                      ],
                      "id": 7806,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1922:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7815,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1922:103:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7816,
                  "nodeType": "ExpressionStatement",
                  "src": "1922:103:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 7821,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 7817,
                        "name": "financialProductStrikes",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7776,
                        "src": "2035:23:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                          "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                        }
                      },
                      "id": 7819,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 7818,
                        "name": "financialProduct",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7779,
                        "src": "2059:16:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2035:41:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                        "typeString": "struct FixedPoint.Unsigned storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 7820,
                      "name": "strikePrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7781,
                      "src": "2079:11:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned memory"
                      }
                    },
                    "src": "2035:55:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "id": 7822,
                  "nodeType": "ExpressionStatement",
                  "src": "2035:55:40"
                }
              ]
            },
            "documentation": {
              "id": 7777,
              "nodeType": "StructuredDocumentation",
              "src": "987:598:40",
              "text": " @notice Enables the deployer of the library to set the strike price for an associated financial product.\n @param financialProduct address of the financial product.\n @param strikePrice the strike price for the structured note to be applied to the financial product.\n @dev Note: a) Only the owner (deployer) of this library can set new strike prices b) A strike price cannot be 0.\n c) A strike price can only be set once to prevent the deployer from changing the strike after the fact.\n d)  financialProduct must exposes an expirationTimestamp method."
            },
            "functionSelector": "a94ec3b0",
            "id": 7824,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": null,
                "id": 7784,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7783,
                  "name": "onlyOwner",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 25810,
                  "src": "1714:9:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1714:9:40"
              },
              {
                "arguments": [],
                "id": 7786,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7785,
                  "name": "nonReentrant",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2400,
                  "src": "1732:12:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1732:14:40"
              }
            ],
            "name": "setFinancialProductStrike",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 7782,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7779,
                  "mutability": "mutable",
                  "name": "financialProduct",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7824,
                  "src": "1625:24:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 7778,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1625:7:40",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7781,
                  "mutability": "mutable",
                  "name": "strikePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7824,
                  "src": "1651:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7780,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "1651:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1624:66:40"
            },
            "returnParameters": {
              "id": 7787,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1751:0:40"
            },
            "scope": 7951,
            "src": "1590:507:40",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 7838,
              "nodeType": "Block",
              "src": "2508:65:40",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7834,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "2525:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7836,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 7835,
                      "name": "financialProduct",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7827,
                      "src": "2549:16:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "2525:41:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "functionReturnParameters": 7833,
                  "id": 7837,
                  "nodeType": "Return",
                  "src": "2518:48:40"
                }
              ]
            },
            "documentation": {
              "id": 7825,
              "nodeType": "StructuredDocumentation",
              "src": "2103:232:40",
              "text": " @notice Returns the strike price associated with a given financial product address.\n @param financialProduct address of the financial product.\n @return strikePrice for the associated financial product."
            },
            "functionSelector": "3a0acab5",
            "id": 7839,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7830,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7829,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "2440:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "2440:18:40"
              }
            ],
            "name": "getStrikeForFinancialProduct",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 7828,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7827,
                  "mutability": "mutable",
                  "name": "financialProduct",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7839,
                  "src": "2378:24:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 7826,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2378:7:40",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2377:26:40"
            },
            "returnParameters": {
              "id": 7833,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7832,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7839,
                  "src": "2476:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7831,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "2476:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2475:28:40"
            },
            "scope": 7951,
            "src": "2340:233:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "baseFunctions": [
              7611
            ],
            "body": {
              "id": 7901,
              "nodeType": "Block",
              "src": "3137:816:40",
              "statements": [
                {
                  "assignments": [
                    7855
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 7855,
                      "mutability": "mutable",
                      "name": "strike",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 7901,
                      "src": "3147:33:40",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 7854,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 887,
                        "src": "3147:19:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 7860,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7856,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "3183:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7859,
                    "indexExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 7857,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "3207:3:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 7858,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "3207:10:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address_payable",
                        "typeString": "address payable"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "3183:35:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3147:71:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7864,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3257:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7862,
                            "name": "strike",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7855,
                            "src": "3236:6:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7863,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "3236:20:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7865,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3236:23:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616c6c657220686173206e6f20737472696b65",
                        "id": 7866,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "3261:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        },
                        "value": "Caller has no strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        }
                      ],
                      "id": 7861,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "3228:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7867,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3228:56:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7868,
                  "nodeType": "ExpressionStatement",
                  "src": "3228:56:40"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 7876,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 7869,
                      "name": "requestTime",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7844,
                      "src": "3471:11:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 7871,
                                "name": "msg",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": -15,
                                "src": "3511:3:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_magic_message",
                                  "typeString": "msg"
                                }
                              },
                              "id": 7872,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "sender",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": null,
                              "src": "3511:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address_payable",
                                "typeString": "address payable"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address_payable",
                                "typeString": "address payable"
                              }
                            ],
                            "id": 7870,
                            "name": "ExpiringContractInterface",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7594,
                            "src": "3485:25:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_ExpiringContractInterface_$7594_$",
                              "typeString": "type(contract ExpiringContractInterface)"
                            }
                          },
                          "id": 7873,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3485:37:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_ExpiringContractInterface_$7594",
                            "typeString": "contract ExpiringContractInterface"
                          }
                        },
                        "id": 7874,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "expirationTimestamp",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 7593,
                        "src": "3485:57:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_view$__$returns$_t_uint256_$",
                          "typeString": "function () view external returns (uint256)"
                        }
                      },
                      "id": 7875,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3485:59:40",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3471:73:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": null,
                  "id": 7883,
                  "nodeType": "IfStatement",
                  "src": "3467:141:40",
                  "trueBody": {
                    "id": 7882,
                    "nodeType": "Block",
                    "src": "3546:62:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "hexValue": "31",
                              "id": 7879,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3595:1:40",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              },
                              "value": "1"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7877,
                              "name": "FixedPoint",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 2373,
                              "src": "3567:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_contract$_FixedPoint_$2373_$",
                                "typeString": "type(library FixedPoint)"
                              }
                            },
                            "id": 7878,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "fromUnscaledUint",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 903,
                            "src": "3567:27:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7880,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3567:30:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7881,
                        "nodeType": "Return",
                        "src": "3560:37:40"
                      }
                    ]
                  }
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 7886,
                        "name": "strike",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7855,
                        "src": "3644:6:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 7884,
                        "name": "oraclePrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7842,
                        "src": "3621:11:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 7885,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isLessThan",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 1066,
                      "src": "3621:22:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (bool)"
                      }
                    },
                    "id": 7887,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3621:30:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 7899,
                    "nodeType": "Block",
                    "src": "3721:226:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 7896,
                              "name": "oraclePrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7842,
                              "src": "3924:11:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7894,
                              "name": "strike",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7855,
                              "src": "3913:6:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 7895,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "div",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 1426,
                            "src": "3913:10:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7897,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3913:23:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7898,
                        "nodeType": "Return",
                        "src": "3906:30:40"
                      }
                    ]
                  },
                  "id": 7900,
                  "nodeType": "IfStatement",
                  "src": "3617:330:40",
                  "trueBody": {
                    "id": 7893,
                    "nodeType": "Block",
                    "src": "3653:62:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "hexValue": "31",
                              "id": 7890,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3702:1:40",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              },
                              "value": "1"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7888,
                              "name": "FixedPoint",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 2373,
                              "src": "3674:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_contract$_FixedPoint_$2373_$",
                                "typeString": "type(library FixedPoint)"
                              }
                            },
                            "id": 7889,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "fromUnscaledUint",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 903,
                            "src": "3674:27:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7891,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3674:30:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7892,
                        "nodeType": "Return",
                        "src": "3667:37:40"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 7840,
              "nodeType": "StructuredDocumentation",
              "src": "2579:347:40",
              "text": " @notice Returns a transformed price by applying the structured note payout structure.\n @param oraclePrice price from the oracle to be transformed.\n @param requestTime timestamp the oraclePrice was requested at.\n @return transformedPrice the input oracle price with the price transformation logic applied to it."
            },
            "functionSelector": "0ff49b90",
            "id": 7902,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7848,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7847,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "3069:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "3069:18:40"
              }
            ],
            "name": "transformPrice",
            "nodeType": "FunctionDefinition",
            "overrides": {
              "id": 7846,
              "nodeType": "OverrideSpecifier",
              "overrides": [],
              "src": "3052:8:40"
            },
            "parameters": {
              "id": 7845,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7842,
                  "mutability": "mutable",
                  "name": "oraclePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "2955:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7841,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "2955:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7844,
                  "mutability": "mutable",
                  "name": "requestTime",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "2995:19:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 7843,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2995:7:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2954:61:40"
            },
            "returnParameters": {
              "id": 7851,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7850,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "3105:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7849,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "3105:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3104:28:40"
            },
            "scope": 7951,
            "src": "2931:1022:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "baseFunctions": [
              7624
            ],
            "body": {
              "id": 7949,
              "nodeType": "Block",
              "src": "4778:1019:40",
              "statements": [
                {
                  "assignments": [
                    7918
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 7918,
                      "mutability": "mutable",
                      "name": "strike",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 7949,
                      "src": "4788:33:40",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 7917,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 887,
                        "src": "4788:19:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 7923,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7919,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "4824:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7922,
                    "indexExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 7920,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "4848:3:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 7921,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "4848:10:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address_payable",
                        "typeString": "address payable"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "4824:35:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4788:71:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7927,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "4898:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7925,
                            "name": "strike",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7918,
                            "src": "4877:6:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7926,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "4877:20:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7928,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4877:23:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616c6c657220686173206e6f20737472696b65",
                        "id": 7929,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4902:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        },
                        "value": "Caller has no strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        }
                      ],
                      "id": 7924,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "4869:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7930,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4869:56:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7931,
                  "nodeType": "ExpressionStatement",
                  "src": "4869:56:40"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 7934,
                        "name": "strike",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7918,
                        "src": "5060:6:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 7932,
                        "name": "oraclePrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7905,
                        "src": "5037:11:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 7933,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isLessThan",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 1066,
                      "src": "5037:22:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (bool)"
                      }
                    },
                    "id": 7935,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5037:30:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 7947,
                    "nodeType": "Block",
                    "src": "5128:663:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "arguments": [
                                {
                                  "argumentTypes": null,
                                  "id": 7943,
                                  "name": "oraclePrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7905,
                                  "src": "5767:11:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                ],
                                "expression": {
                                  "argumentTypes": null,
                                  "id": 7941,
                                  "name": "strike",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7918,
                                  "src": "5756:6:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                },
                                "id": 7942,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "div",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": 1426,
                                "src": "5756:10:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                                  "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                                }
                              },
                              "id": 7944,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "5756:23:40",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7939,
                              "name": "collateralRequirement",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7907,
                              "src": "5730:21:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 7940,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "mul",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 1315,
                            "src": "5730:25:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7945,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5730:50:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7914,
                        "id": 7946,
                        "nodeType": "Return",
                        "src": "5723:57:40"
                      }
                    ]
                  },
                  "id": 7948,
                  "nodeType": "IfStatement",
                  "src": "5033:758:40",
                  "trueBody": {
                    "id": 7938,
                    "nodeType": "Block",
                    "src": "5069:53:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 7936,
                          "name": "collateralRequirement",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 7907,
                          "src": "5090:21:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7914,
                        "id": 7937,
                        "nodeType": "Return",
                        "src": "5083:28:40"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 7903,
              "nodeType": "StructuredDocumentation",
              "src": "3959:585:40",
              "text": " @notice Returns a transformed collateral requirement by applying the structured note payout structure. If the price\n of the structured note is greater than the strike then the collateral requirement scales down accordingly.\n @param oraclePrice price from the oracle to transform the collateral requirement.\n @param collateralRequirement financial products collateral requirement to be scaled according to price and strike.\n @return transformedCollateralRequirement the input collateral requirement with the transformation logic applied to it."
            },
            "functionSelector": "2a312637",
            "id": 7950,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7911,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7910,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "4722:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "4722:18:40"
              }
            ],
            "name": "transformCollateralRequirement",
            "nodeType": "FunctionDefinition",
            "overrides": {
              "id": 7909,
              "nodeType": "OverrideSpecifier",
              "overrides": [],
              "src": "4713:8:40"
            },
            "parameters": {
              "id": 7908,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7905,
                  "mutability": "mutable",
                  "name": "oraclePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4598:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7904,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4598:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7907,
                  "mutability": "mutable",
                  "name": "collateralRequirement",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4646:48:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7906,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4646:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4588:112:40"
            },
            "returnParameters": {
              "id": 7914,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7913,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4750:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7912,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4750:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4749:28:40"
            },
            "scope": 7951,
            "src": "4549:1248:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          }
        ],
        "scope": 7952,
        "src": "818:4981:40"
      }
    ],
    "src": "0:5800:40"
  },
  "legacyAST": {
    "absolutePath": "/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/StructuredNoteFinancialProductLibrary.sol",
    "exportedSymbols": {
      "StructuredNoteFinancialProductLibrary": [
        7951
      ]
    },
    "id": 7952,
    "license": null,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 7761,
        "literals": [
          "solidity",
          "^",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:23:40"
      },
      {
        "id": 7762,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "24:33:40"
      },
      {
        "absolutePath": "/home/circleci/protocol/packages/core/contracts/financial-templates/common/financial-product-libraries/FinancialProductLibrary.sol",
        "file": "./FinancialProductLibrary.sol",
        "id": 7763,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 7639,
        "src": "58:39:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/access/Ownable.sol",
        "file": "@openzeppelin/contracts/access/Ownable.sol",
        "id": 7764,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 25862,
        "src": "98:52:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/home/circleci/protocol/packages/core/contracts/common/implementation/Lockable.sol",
        "file": "../../../common/implementation/Lockable.sol",
        "id": 7765,
        "nodeType": "ImportDirective",
        "scope": 7952,
        "sourceUnit": 2435,
        "src": "151:53:40",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7767,
              "name": "FinancialProductLibrary",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 7638,
              "src": "868:23:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_FinancialProductLibrary_$7638",
                "typeString": "contract FinancialProductLibrary"
              }
            },
            "id": 7768,
            "nodeType": "InheritanceSpecifier",
            "src": "868:23:40"
          },
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7769,
              "name": "Ownable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 25861,
              "src": "893:7:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Ownable_$25861",
                "typeString": "contract Ownable"
              }
            },
            "id": 7770,
            "nodeType": "InheritanceSpecifier",
            "src": "893:7:40"
          },
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 7771,
              "name": "Lockable",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 2434,
              "src": "902:8:40",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_Lockable_$2434",
                "typeString": "contract Lockable"
              }
            },
            "id": 7772,
            "nodeType": "InheritanceSpecifier",
            "src": "902:8:40"
          }
        ],
        "contractDependencies": [
          2434,
          7638,
          25752,
          25861
        ],
        "contractKind": "contract",
        "documentation": {
          "id": 7766,
          "nodeType": "StructuredDocumentation",
          "src": "206:611:40",
          "text": " @title Structured Note Financial Product Library\n @notice Adds custom price transformation logic to modify the behavior of the expiring multi party contract.  The\n contract holds say 1 WETH in collateral and pays out that 1 WETH if, at expiry, ETHUSD is below a set strike. If\n ETHUSD is above that strike, the contract pays out a given dollar amount of ETH.\n Example: expiry is DEC 31. Strike is $400. Each token is backed by 1 WETH\n If ETHUSD < $400 at expiry, token is redeemed for 1 ETH.\n If ETHUSD >= $400 at expiry, token is redeemed for $400 worth of ETH, as determined by the DVM."
        },
        "fullyImplemented": true,
        "id": 7951,
        "linearizedBaseContracts": [
          7951,
          2434,
          25861,
          25752,
          7638
        ],
        "name": "StructuredNoteFinancialProductLibrary",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "constant": false,
            "id": 7776,
            "mutability": "mutable",
            "name": "financialProductStrikes",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 7951,
            "src": "917:63:40",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
              "typeString": "mapping(address => struct FixedPoint.Unsigned)"
            },
            "typeName": {
              "id": 7775,
              "keyType": {
                "id": 7773,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "925:7:40",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "917:39:40",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                "typeString": "mapping(address => struct FixedPoint.Unsigned)"
              },
              "valueType": {
                "contractScope": null,
                "id": 7774,
                "name": "FixedPoint.Unsigned",
                "nodeType": "UserDefinedTypeName",
                "referencedDeclaration": 887,
                "src": "936:19:40",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                  "typeString": "struct FixedPoint.Unsigned"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 7823,
              "nodeType": "Block",
              "src": "1751:346:40",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7791,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1795:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7789,
                            "name": "strikePrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7781,
                            "src": "1769:11:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7790,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "1769:25:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7792,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1769:28:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616e7420736574203020737472696b65",
                        "id": 7793,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1799:19:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_c7f986862cc2d26c1a35b5c7871a1e618efb593efd688b980398e67794ec34ad",
                          "typeString": "literal_string \"Cant set 0 strike\""
                        },
                        "value": "Cant set 0 strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_c7f986862cc2d26c1a35b5c7871a1e618efb593efd688b980398e67794ec34ad",
                          "typeString": "literal_string \"Cant set 0 strike\""
                        }
                      ],
                      "id": 7788,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1761:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7794,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1761:58:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7795,
                  "nodeType": "ExpressionStatement",
                  "src": "1761:58:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7801,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1887:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 7797,
                              "name": "financialProductStrikes",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7776,
                              "src": "1837:23:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                                "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                              }
                            },
                            "id": 7799,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 7798,
                              "name": "financialProduct",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7779,
                              "src": "1861:16:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "1837:41:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                              "typeString": "struct FixedPoint.Unsigned storage ref"
                            }
                          },
                          "id": 7800,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isEqual",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 922,
                          "src": "1837:49:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7802,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1837:52:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "537472696b6520616c726561647920736574",
                        "id": 7803,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1891:20:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_90a200c9dd7f19b0a6761d7013cfb0bf7b6b9a5a8eb923efec7fe160652c0550",
                          "typeString": "literal_string \"Strike already set\""
                        },
                        "value": "Strike already set"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_90a200c9dd7f19b0a6761d7013cfb0bf7b6b9a5a8eb923efec7fe160652c0550",
                          "typeString": "literal_string \"Strike already set\""
                        }
                      ],
                      "id": 7796,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1829:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7804,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1829:83:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7805,
                  "nodeType": "ExpressionStatement",
                  "src": "1829:83:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 7813,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "arguments": [],
                          "expression": {
                            "argumentTypes": [],
                            "expression": {
                              "argumentTypes": null,
                              "arguments": [
                                {
                                  "argumentTypes": null,
                                  "id": 7808,
                                  "name": "financialProduct",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7779,
                                  "src": "1956:16:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                ],
                                "id": 7807,
                                "name": "ExpiringContractInterface",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 7594,
                                "src": "1930:25:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_contract$_ExpiringContractInterface_$7594_$",
                                  "typeString": "type(contract ExpiringContractInterface)"
                                }
                              },
                              "id": 7809,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "1930:43:40",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_ExpiringContractInterface_$7594",
                                "typeString": "contract ExpiringContractInterface"
                              }
                            },
                            "id": 7810,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "expirationTimestamp",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 7593,
                            "src": "1930:63:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_view$__$returns$_t_uint256_$",
                              "typeString": "function () view external returns (uint256)"
                            }
                          },
                          "id": 7811,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1930:65:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 7812,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "1999:1:40",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        },
                        "src": "1930:70:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "496e76616c696420454d5020636f6e7472616374",
                        "id": 7814,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2002:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_414057ca04fb0eac83f93a4edb2bbafd68669ee9198c65b64b7b3051f2873eed",
                          "typeString": "literal_string \"Invalid EMP contract\""
                        },
                        "value": "Invalid EMP contract"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_414057ca04fb0eac83f93a4edb2bbafd68669ee9198c65b64b7b3051f2873eed",
                          "typeString": "literal_string \"Invalid EMP contract\""
                        }
                      ],
                      "id": 7806,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1922:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7815,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1922:103:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7816,
                  "nodeType": "ExpressionStatement",
                  "src": "1922:103:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 7821,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 7817,
                        "name": "financialProductStrikes",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7776,
                        "src": "2035:23:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                          "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                        }
                      },
                      "id": 7819,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 7818,
                        "name": "financialProduct",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7779,
                        "src": "2059:16:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2035:41:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                        "typeString": "struct FixedPoint.Unsigned storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 7820,
                      "name": "strikePrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7781,
                      "src": "2079:11:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned memory"
                      }
                    },
                    "src": "2035:55:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "id": 7822,
                  "nodeType": "ExpressionStatement",
                  "src": "2035:55:40"
                }
              ]
            },
            "documentation": {
              "id": 7777,
              "nodeType": "StructuredDocumentation",
              "src": "987:598:40",
              "text": " @notice Enables the deployer of the library to set the strike price for an associated financial product.\n @param financialProduct address of the financial product.\n @param strikePrice the strike price for the structured note to be applied to the financial product.\n @dev Note: a) Only the owner (deployer) of this library can set new strike prices b) A strike price cannot be 0.\n c) A strike price can only be set once to prevent the deployer from changing the strike after the fact.\n d)  financialProduct must exposes an expirationTimestamp method."
            },
            "functionSelector": "a94ec3b0",
            "id": 7824,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": null,
                "id": 7784,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7783,
                  "name": "onlyOwner",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 25810,
                  "src": "1714:9:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1714:9:40"
              },
              {
                "arguments": [],
                "id": 7786,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7785,
                  "name": "nonReentrant",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2400,
                  "src": "1732:12:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1732:14:40"
              }
            ],
            "name": "setFinancialProductStrike",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 7782,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7779,
                  "mutability": "mutable",
                  "name": "financialProduct",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7824,
                  "src": "1625:24:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 7778,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1625:7:40",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7781,
                  "mutability": "mutable",
                  "name": "strikePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7824,
                  "src": "1651:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7780,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "1651:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1624:66:40"
            },
            "returnParameters": {
              "id": 7787,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1751:0:40"
            },
            "scope": 7951,
            "src": "1590:507:40",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 7838,
              "nodeType": "Block",
              "src": "2508:65:40",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7834,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "2525:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7836,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 7835,
                      "name": "financialProduct",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7827,
                      "src": "2549:16:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "2525:41:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "functionReturnParameters": 7833,
                  "id": 7837,
                  "nodeType": "Return",
                  "src": "2518:48:40"
                }
              ]
            },
            "documentation": {
              "id": 7825,
              "nodeType": "StructuredDocumentation",
              "src": "2103:232:40",
              "text": " @notice Returns the strike price associated with a given financial product address.\n @param financialProduct address of the financial product.\n @return strikePrice for the associated financial product."
            },
            "functionSelector": "3a0acab5",
            "id": 7839,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7830,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7829,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "2440:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "2440:18:40"
              }
            ],
            "name": "getStrikeForFinancialProduct",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 7828,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7827,
                  "mutability": "mutable",
                  "name": "financialProduct",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7839,
                  "src": "2378:24:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 7826,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2378:7:40",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2377:26:40"
            },
            "returnParameters": {
              "id": 7833,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7832,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7839,
                  "src": "2476:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7831,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "2476:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2475:28:40"
            },
            "scope": 7951,
            "src": "2340:233:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "baseFunctions": [
              7611
            ],
            "body": {
              "id": 7901,
              "nodeType": "Block",
              "src": "3137:816:40",
              "statements": [
                {
                  "assignments": [
                    7855
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 7855,
                      "mutability": "mutable",
                      "name": "strike",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 7901,
                      "src": "3147:33:40",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 7854,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 887,
                        "src": "3147:19:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 7860,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7856,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "3183:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7859,
                    "indexExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 7857,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "3207:3:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 7858,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "3207:10:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address_payable",
                        "typeString": "address payable"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "3183:35:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3147:71:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7864,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3257:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7862,
                            "name": "strike",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7855,
                            "src": "3236:6:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7863,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "3236:20:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7865,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3236:23:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616c6c657220686173206e6f20737472696b65",
                        "id": 7866,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "3261:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        },
                        "value": "Caller has no strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        }
                      ],
                      "id": 7861,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "3228:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7867,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3228:56:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7868,
                  "nodeType": "ExpressionStatement",
                  "src": "3228:56:40"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 7876,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 7869,
                      "name": "requestTime",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7844,
                      "src": "3471:11:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 7871,
                                "name": "msg",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": -15,
                                "src": "3511:3:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_magic_message",
                                  "typeString": "msg"
                                }
                              },
                              "id": 7872,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "sender",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": null,
                              "src": "3511:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address_payable",
                                "typeString": "address payable"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address_payable",
                                "typeString": "address payable"
                              }
                            ],
                            "id": 7870,
                            "name": "ExpiringContractInterface",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7594,
                            "src": "3485:25:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_ExpiringContractInterface_$7594_$",
                              "typeString": "type(contract ExpiringContractInterface)"
                            }
                          },
                          "id": 7873,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3485:37:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_ExpiringContractInterface_$7594",
                            "typeString": "contract ExpiringContractInterface"
                          }
                        },
                        "id": 7874,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "expirationTimestamp",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 7593,
                        "src": "3485:57:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_view$__$returns$_t_uint256_$",
                          "typeString": "function () view external returns (uint256)"
                        }
                      },
                      "id": 7875,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3485:59:40",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3471:73:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": null,
                  "id": 7883,
                  "nodeType": "IfStatement",
                  "src": "3467:141:40",
                  "trueBody": {
                    "id": 7882,
                    "nodeType": "Block",
                    "src": "3546:62:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "hexValue": "31",
                              "id": 7879,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3595:1:40",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              },
                              "value": "1"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7877,
                              "name": "FixedPoint",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 2373,
                              "src": "3567:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_contract$_FixedPoint_$2373_$",
                                "typeString": "type(library FixedPoint)"
                              }
                            },
                            "id": 7878,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "fromUnscaledUint",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 903,
                            "src": "3567:27:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7880,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3567:30:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7881,
                        "nodeType": "Return",
                        "src": "3560:37:40"
                      }
                    ]
                  }
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 7886,
                        "name": "strike",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7855,
                        "src": "3644:6:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 7884,
                        "name": "oraclePrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7842,
                        "src": "3621:11:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 7885,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isLessThan",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 1066,
                      "src": "3621:22:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (bool)"
                      }
                    },
                    "id": 7887,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3621:30:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 7899,
                    "nodeType": "Block",
                    "src": "3721:226:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 7896,
                              "name": "oraclePrice",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7842,
                              "src": "3924:11:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7894,
                              "name": "strike",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7855,
                              "src": "3913:6:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 7895,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "div",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 1426,
                            "src": "3913:10:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7897,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3913:23:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7898,
                        "nodeType": "Return",
                        "src": "3906:30:40"
                      }
                    ]
                  },
                  "id": 7900,
                  "nodeType": "IfStatement",
                  "src": "3617:330:40",
                  "trueBody": {
                    "id": 7893,
                    "nodeType": "Block",
                    "src": "3653:62:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "hexValue": "31",
                              "id": 7890,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3702:1:40",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              },
                              "value": "1"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_1_by_1",
                                "typeString": "int_const 1"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7888,
                              "name": "FixedPoint",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 2373,
                              "src": "3674:10:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_contract$_FixedPoint_$2373_$",
                                "typeString": "type(library FixedPoint)"
                              }
                            },
                            "id": 7889,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "fromUnscaledUint",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 903,
                            "src": "3674:27:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7891,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3674:30:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7851,
                        "id": 7892,
                        "nodeType": "Return",
                        "src": "3667:37:40"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 7840,
              "nodeType": "StructuredDocumentation",
              "src": "2579:347:40",
              "text": " @notice Returns a transformed price by applying the structured note payout structure.\n @param oraclePrice price from the oracle to be transformed.\n @param requestTime timestamp the oraclePrice was requested at.\n @return transformedPrice the input oracle price with the price transformation logic applied to it."
            },
            "functionSelector": "0ff49b90",
            "id": 7902,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7848,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7847,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "3069:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "3069:18:40"
              }
            ],
            "name": "transformPrice",
            "nodeType": "FunctionDefinition",
            "overrides": {
              "id": 7846,
              "nodeType": "OverrideSpecifier",
              "overrides": [],
              "src": "3052:8:40"
            },
            "parameters": {
              "id": 7845,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7842,
                  "mutability": "mutable",
                  "name": "oraclePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "2955:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7841,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "2955:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7844,
                  "mutability": "mutable",
                  "name": "requestTime",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "2995:19:40",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 7843,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2995:7:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2954:61:40"
            },
            "returnParameters": {
              "id": 7851,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7850,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7902,
                  "src": "3105:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7849,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "3105:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3104:28:40"
            },
            "scope": 7951,
            "src": "2931:1022:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "baseFunctions": [
              7624
            ],
            "body": {
              "id": 7949,
              "nodeType": "Block",
              "src": "4778:1019:40",
              "statements": [
                {
                  "assignments": [
                    7918
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 7918,
                      "mutability": "mutable",
                      "name": "strike",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 7949,
                      "src": "4788:33:40",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 7917,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 887,
                        "src": "4788:19:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 7923,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "id": 7919,
                      "name": "financialProductStrikes",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 7776,
                      "src": "4824:23:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_Unsigned_$887_storage_$",
                        "typeString": "mapping(address => struct FixedPoint.Unsigned storage ref)"
                      }
                    },
                    "id": 7922,
                    "indexExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 7920,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "4848:3:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 7921,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "4848:10:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address_payable",
                        "typeString": "address payable"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "4824:35:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4788:71:40"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 7927,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "4898:1:40",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 7925,
                            "name": "strike",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 7918,
                            "src": "4877:6:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 7926,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 975,
                          "src": "4877:20:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 7928,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4877:23:40",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "43616c6c657220686173206e6f20737472696b65",
                        "id": 7929,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4902:22:40",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        },
                        "value": "Caller has no strike"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_548ace7ae2c3dded09a13a0eb0749240c27082fd310d7eba9d1af5962d781575",
                          "typeString": "literal_string \"Caller has no strike\""
                        }
                      ],
                      "id": 7924,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "4869:7:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 7930,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4869:56:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 7931,
                  "nodeType": "ExpressionStatement",
                  "src": "4869:56:40"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 7934,
                        "name": "strike",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7918,
                        "src": "5060:6:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 7932,
                        "name": "oraclePrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 7905,
                        "src": "5037:11:40",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 7933,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isLessThan",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 1066,
                      "src": "5037:22:40",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (bool)"
                      }
                    },
                    "id": 7935,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5037:30:40",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 7947,
                    "nodeType": "Block",
                    "src": "5128:663:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "arguments": [
                                {
                                  "argumentTypes": null,
                                  "id": 7943,
                                  "name": "oraclePrice",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7905,
                                  "src": "5767:11:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                ],
                                "expression": {
                                  "argumentTypes": null,
                                  "id": 7941,
                                  "name": "strike",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 7918,
                                  "src": "5756:6:40",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                    "typeString": "struct FixedPoint.Unsigned memory"
                                  }
                                },
                                "id": 7942,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "div",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": 1426,
                                "src": "5756:10:40",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                                  "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                                }
                              },
                              "id": 7944,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "5756:23:40",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 7939,
                              "name": "collateralRequirement",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 7907,
                              "src": "5730:21:40",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 7940,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "mul",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 1315,
                            "src": "5730:25:40",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$887_memory_ptr_$_t_struct$_Unsigned_$887_memory_ptr_$returns$_t_struct$_Unsigned_$887_memory_ptr_$bound_to$_t_struct$_Unsigned_$887_memory_ptr_$",
                              "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                            }
                          },
                          "id": 7945,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5730:50:40",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7914,
                        "id": 7946,
                        "nodeType": "Return",
                        "src": "5723:57:40"
                      }
                    ]
                  },
                  "id": 7948,
                  "nodeType": "IfStatement",
                  "src": "5033:758:40",
                  "trueBody": {
                    "id": 7938,
                    "nodeType": "Block",
                    "src": "5069:53:40",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 7936,
                          "name": "collateralRequirement",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 7907,
                          "src": "5090:21:40",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "functionReturnParameters": 7914,
                        "id": 7937,
                        "nodeType": "Return",
                        "src": "5083:28:40"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 7903,
              "nodeType": "StructuredDocumentation",
              "src": "3959:585:40",
              "text": " @notice Returns a transformed collateral requirement by applying the structured note payout structure. If the price\n of the structured note is greater than the strike then the collateral requirement scales down accordingly.\n @param oraclePrice price from the oracle to transform the collateral requirement.\n @param collateralRequirement financial products collateral requirement to be scaled according to price and strike.\n @return transformedCollateralRequirement the input collateral requirement with the transformation logic applied to it."
            },
            "functionSelector": "2a312637",
            "id": 7950,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "arguments": [],
                "id": 7911,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 7910,
                  "name": "nonReentrantView",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 2408,
                  "src": "4722:16:40",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "4722:18:40"
              }
            ],
            "name": "transformCollateralRequirement",
            "nodeType": "FunctionDefinition",
            "overrides": {
              "id": 7909,
              "nodeType": "OverrideSpecifier",
              "overrides": [],
              "src": "4713:8:40"
            },
            "parameters": {
              "id": 7908,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7905,
                  "mutability": "mutable",
                  "name": "oraclePrice",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4598:38:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7904,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4598:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 7907,
                  "mutability": "mutable",
                  "name": "collateralRequirement",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4646:48:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7906,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4646:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4588:112:40"
            },
            "returnParameters": {
              "id": 7914,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 7913,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 7950,
                  "src": "4750:26:40",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$887_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 7912,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 887,
                    "src": "4750:19:40",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$887_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4749:28:40"
            },
            "scope": 7951,
            "src": "4549:1248:40",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          }
        ],
        "scope": 7952,
        "src": "818:4981:40"
      }
    ],
    "src": "0:5800:40"
  },
  "compiler": {
    "name": "solc",
    "version": "0.6.12+commit.27d51765.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.2.3",
  "updatedAt": "2021-02-26T22:07:27.653Z",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "getStrikeForFinancialProduct(address)": {
        "params": {
          "financialProduct": "address of the financial product."
        },
        "returns": {
          "_0": "strikePrice for the associated financial product."
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "setFinancialProductStrike(address,(uint256))": {
        "details": "Note: a) Only the owner (deployer) of this library can set new strike prices b) A strike price cannot be 0. c) A strike price can only be set once to prevent the deployer from changing the strike after the fact. d)  financialProduct must exposes an expirationTimestamp method.",
        "params": {
          "financialProduct": "address of the financial product.",
          "strikePrice": "the strike price for the structured note to be applied to the financial product."
        }
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "transformCollateralRequirement((uint256),(uint256))": {
        "params": {
          "collateralRequirement": "financial products collateral requirement to be scaled according to price and strike.",
          "oraclePrice": "price from the oracle to transform the collateral requirement."
        },
        "returns": {
          "_0": "transformedCollateralRequirement the input collateral requirement with the transformation logic applied to it."
        }
      },
      "transformPrice((uint256),uint256)": {
        "params": {
          "oraclePrice": "price from the oracle to be transformed.",
          "requestTime": "timestamp the oraclePrice was requested at."
        },
        "returns": {
          "_0": "transformedPrice the input oracle price with the price transformation logic applied to it."
        }
      },
      "transformPriceIdentifier(bytes32,uint256)": {
        "params": {
          "priceIdentifier": "input price identifier defined for the financial contract.",
          "requestTime": "timestamp the identifier is to be used at. EG the time that a price request would be sent using this identifier."
        },
        "returns": {
          "_0": "transformedPriceIdentifier input price identifier with the transformation function applied."
        }
      }
    },
    "title": "Structured Note Financial Product Library",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "getStrikeForFinancialProduct(address)": {
        "notice": "Returns the strike price associated with a given financial product address."
      },
      "setFinancialProductStrike(address,(uint256))": {
        "notice": "Enables the deployer of the library to set the strike price for an associated financial product."
      },
      "transformCollateralRequirement((uint256),(uint256))": {
        "notice": "Returns a transformed collateral requirement by applying the structured note payout structure. If the price of the structured note is greater than the strike then the collateral requirement scales down accordingly."
      },
      "transformPrice((uint256),uint256)": {
        "notice": "Returns a transformed price by applying the structured note payout structure."
      },
      "transformPriceIdentifier(bytes32,uint256)": {
        "notice": "Transforms a given price identifier using the financial product libraries transformation logic."
      }
    },
    "notice": "Adds custom price transformation logic to modify the behavior of the expiring multi party contract.  The contract holds say 1 WETH in collateral and pays out that 1 WETH if, at expiry, ETHUSD is below a set strike. If ETHUSD is above that strike, the contract pays out a given dollar amount of ETH. Example: expiry is DEC 31. Strike is $400. Each token is backed by 1 WETH If ETHUSD < $400 at expiry, token is redeemed for 1 ETH. If ETHUSD >= $400 at expiry, token is redeemed for $400 worth of ETH, as determined by the DVM.",
    "version": 1
  }
}